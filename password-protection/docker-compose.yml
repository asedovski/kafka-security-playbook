---
version: '2'
services:
  zookeeper:
    container_name: zookeeper
    build: zookeeper/
    environment:
      CONFLUENT_SECURITY_MASTER_KEY: "${CONFLUENT_SECURITY_MASTER_KEY}"
    volumes:
      - ./etc/zookeeper:/etc/kafka

  kafka:
    container_name: kafka
    build: kafka/
    depends_on:
      - zookeeper
    ports:
      - 9092:9092
    environment:
      CONFLUENT_SECURITY_MASTER_KEY: "${CONFLUENT_SECURITY_MASTER_KEY}"
    volumes:
      - ./etc/kafka:/etc/kafka
